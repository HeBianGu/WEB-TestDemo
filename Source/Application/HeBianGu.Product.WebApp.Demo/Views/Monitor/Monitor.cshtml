@model IEnumerable<MonitorViewModel>

@{
	ViewData["Title"] = "Monitor";
	Layout = "~/Views/Shared/_Start.cshtml";
}

@*<p>
		@await Html.PartialAsync("_MonitorCenter")
	</p>*@

<div class="x_content">
	<div class="row">
		<div class="col-md-12">
			<div class="x_panel">
				<div class="x_title">
					<h2>智能养老床垫监测 <small> 一号楼 </small></h2>

					<ul class="nav navbar-right panel_toolbox">
						<li>
							<a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
						</li>

						<li class="dropdown">
							<a class="dropdown-toggle" role="button" aria-expanded="false" href="#" data-toggle="dropdown"><i class="fa fa-wrench"></i></a>
							<ul class="dropdown-menu" role="menu">
								<li>
									<a asp-controller="Monitor" asp-action="Index">监控设置</a>
								</li>
								<li>
									<a asp-controller="Monitor" asp-action="Create">新增监控</a>
								</li>
							</ul>
						</li>
						<li>
							<a class="close-link"><i class="fa fa-close"></i></a>
						</li>
					</ul>

					<div class="clearfix"></div>
				</div>

				<div id="div-part" />

			</div>
		</div>
	</div>
</div>

@*<div id="div-part" />*@

@*<div class="x_content">
		<div class="row">
			<div class="col-md-12">
				<div class="x_panel">
					<div class="x_title">
						<h2>智能养老床垫监测 <small> 一号楼 </small></h2>

						<ul class="nav navbar-right panel_toolbox">
							<li>
								<a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
							</li>

							<li class="dropdown">
								<a class="dropdown-toggle" role="button" aria-expanded="false" href="#" data-toggle="dropdown"><i class="fa fa-wrench"></i></a>
								<ul class="dropdown-menu" role="menu">
									<li>
										<a asp-controller="Monitor" asp-action="Index">监控设置</a>
									</li>
									<li>
										<a asp-controller="Monitor" asp-action="Create">新增监控</a>
									</li>
								</ul>
							</li>
							<li>
								<a class="close-link"><i class="fa fa-close"></i></a>
							</li>
						</ul>

						<div class="clearfix"></div>
					</div>
					<div class="x_content" style="display: block;">
						<div d="main" class="row">
							@foreach (var item in Model)
							{
								<div class="col-md-3">
									col-md-3 col-xs-7
									<div class="thumbnail">
										<h4 class="brief"><i>@Html.DisplayFor(modelItem => item.Bed.NAME) <small>- @Html.DisplayFor(modelItem => item.Mat.CODE)</small> </i></h4>
										<div class="left col-xs-7">
											<h2> @Html.DisplayFor(modelItem => item.Bed.CODE) @Html.DisplayFor(modelItem => item.Customer.NAME)      @Html.DisplayFor(modelItem => item.Customer.SEX)      @Html.DisplayFor(modelItem => item.Customer.AGE)岁</h2>
											<ul class="list-unstyled">
												<li><i class="fa fa-heart"></i> 心率：60 次/分</li>
												<li><i class="fa fa-comment"></i> 呼吸：60 次/分</li>
												<li><i class="fa fa-heart"></i> 体动：60 次/分</li>
												<li><i class="fa fa-heart"></i> 睡眠：未睡眠 </li>
												<li><i class="fa fa-clock-o"></i> 离床：3小时43分</li>
												<li><i class="fa fa-heart"></i> 护理：中度护理 间隔翻身 </li>
											</ul>
										</div>
										<div class="right col-xs-5 text-center">
											<img class="img-circle img-responsive" alt="" src="~/images/oldman.jpg">
										</div>

										<div class="col-xs-12 bottom text-center">
											<div class="col-xs-12 col-sm-6 emphasis">
												<p class="ratings">
													<a>4.0</a>
													<a href="#"><span class="fa fa-star"></span></a>
													<a href="#"><span class="fa fa-star"></span></a>
													<a href="#"><span class="fa fa-star"></span></a>
													<a href="#"><span class="fa fa-star"></span></a>
													<a href="#"><span class="fa fa-star-o"></span></a>
												</p>
											</div>
											<div class="col-xs-12 col-sm-6 emphasis">
												<button class="btn btn-success btn-xs" type="button">
													<i class="fa fa-user">
													</i> <i class="fa fa-comments-o"></i>
												</button>
												<button class="btn btn-primary btn-xs" type="button">
													<i class="fa fa-user"> </i> View Profile
												</button>
											</div>
										</div>
									</div>
								</div>
							}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>*@

@*<!-- jQuery -->
	<script src="../vendors/jquery/dist/jquery.min.js"></script>
	<!-- Bootstrap -->
	<script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
	<!-- FastClick -->
	<script src="../vendors/fastclick/lib/fastclick.js"></script>
	<!-- NProgress -->
	<script src="../vendors/nprogress/nprogress.js"></script>
	<!-- ECharts -->
	<script src="../vendors/echarts/dist/echarts.min.js"></script>
	<script src="../vendors/echarts/map/js/world.js"></script>*@

<!-- Custom Theme Scripts -->
<script src="../build/js/custom.min.js"></script>

<script type="text/javascript">
	function getUserInfo() {

		$.ajax({

			url: 'RefreshMonitor',

			data: {},

			type: "POST",

			//dataType: "json",

			async: false,

			success: function (data) {

				$("#div-part").html(data);

				console.log("刷新..");

				var echartBar = document.getElementById('main');

				console.log(echartBar);


			},

			error: function (XMLHttpRequest, textStatus, errorThrown) {

				alert("异常");
			}
		});
	} 

	setInterval(getUserInfo, 2000)
</script>
